#-------------------------------------------------------------------------------
# Copyright 2014 Indra
# 
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# 
#   http://www.apache.org/licenses/LICENSE-2.0
# 
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#-------------------------------------------------------------------------------
Lob annotation
Some database engines - for example, MySQL - have different BLOB types for different data sizes. (TINYBLOB, MEDIUMBLOB, LARGEBLOB.) 

The actual BLOB type used by Hibernate is thus dependent upon the column length, but the default column length of 255 is often too small to acommodate typical BLOB data. 

Therefore you'll need to add a Column.length annotation to the property specifying the maximum possible size of the BLOB data, as shown below:

<xsd:element name="photo" type="xsd:base64Binary" minOccurs="0">
	<xsd:annotation>
		<!-- Map to a 'binary' field. -->
		<xsd:appinfo source="teneo.jpa">
			@Lob
			<!-- Use 1Mb maximum length. (MEDIUMBLOB in MySQL.) -->
			@Column(length=1048576)
		</xsd:appinfo>
	</xsd:annotation>
</xsd:element>
		
In the mapping file:
1 - change in the EnvironmentPropertyTypeImpl class the autogenerated primary key fot the key property:
	change this: 
		<id type="long" name="e_id" column="e_id" access="org.eclipse.emf.teneo.hibernate.mapping.identifier.IdentifierPropertyHandler">
			<meta attribute="syntheticId">true</meta>
			<generator class="native"/>
		</id>
	for this:
		<id name="key" column="key" type="java.lang.String"/>
	and the delete, in consequence, the following property:
		<property name="key" lazy="false" insert="true" update="true" not-null="true" unique="false" type="java.lang.String">
			<column not-null="true" unique="false" name="`key`"/>
		</property>
